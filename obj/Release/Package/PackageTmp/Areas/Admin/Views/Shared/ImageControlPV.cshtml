@model string
@{
    string isRequired = "true";
    WatanART.BLL.BussinessLayer.Generic _Generic = new WatanART.BLL.BussinessLayer.Generic();
    var ImagePath = Model;
    if (!string.IsNullOrEmpty(Model))
    { ImagePath = _Generic.GetFilePath("UploadedImages", Model);
        isRequired = "false";
    }


    string @ID = (string)ViewData["ID"];


    //if (ViewData["isRequired"] != null)
    //    isRequired = ViewData["isRequired"].ToString();




}


<div class="form-group">
    @Html.Label("ImageLabel", @WatanART.Localization.Resource.ItemImage, new { @class = "col-lg-2 control-label" })
    <div class="col-lg-4">
      
        <input  type="file" id="@ID" name="@ID" value="@ImagePath"   accept = "image/*" 
                  class="form-control text-box" 
               data-bv-notempty="@isRequired" 
               data-bv-notempty-message=@WatanART.Localization.Resource.Required  
                title=@WatanART.Localization.Resource.Select_Image  
                 data-bv-field="@ID"    
               
               
           />
        @Html.ValidationMessage(ID, new { @class = "text-danger"})
    </div>

</div>



<div class="form-group">
    <div class="col-md-12">
        <div class="col-lg-12 col-md-2 text-center">
            <div class="gallery" id="links">
                <a class="gallery-item" href="@ImagePath" name="aViewModuleImage" id="aViewImage" data-gallery>
                    <div class="image">
                        <img src="@ImagePath" alt="Nature Image" class="header-avatar" width="200px" height="200px" name="ViewImage" id="ViewImage" />
                    </div>
                </a>
            </div>
        </div>
    </div>
</div>

<script>

    $(document).ready(function () {

       $("#@ID").change(function (e) {
            //if (parseFloat(this.files[0].size) > parseFloat(3 * 1024 * 1024)) {
            //}
           debugger;
           if (this.files && this.files[0]) {
               var reader = new FileReader();
               //$("#hid_@ID").val(this.value);
                 reader.onload = function (e) {
                    $('#ViewImage').attr('src', e.target.result);
                    $("#aViewImage").attr("href", e.target.result)


                }

                reader.readAsDataURL(this.files[0]);
            }
        });

    });

</script>


<input type="hidden" id="hid_@ID" name="@ID" value="@Model" />